<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Anmol ‚Äî Cinematic Love</title>

  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700;600&display=swap" rel="stylesheet">

  <!-- GSAP for cinematic animation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" defer></script>

  <style>
    :root{
      --accent:#e63946;
      --bg1: #fff0f6;
      --bg2: #fff7fb;
      --card: rgba(255,255,255,0.96);
      --text:#3b0b2e;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:'Dancing Script', cursive;background:linear-gradient(135deg,#ffeef4,#fff6fb);color:var(--text);-webkit-font-smoothing:antialiased}
    .center {display:flex;align-items:center;justify-content:center}
    /* stage */
    .stage {min-height:100vh; position:relative; overflow:hidden; padding:28px;}
    .layout {max-width:1100px;margin:0 auto; display:grid; grid-template-columns:1fr 420px; gap:28px; align-items:center}
    @media (max-width:980px) { .layout {grid-template-columns: 1fr; padding:0 8px} }

    /* cinematic left panel */
    .cinema {
      background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,250,250,0.95));
      border-radius:20px; padding:28px; box-shadow: 0 28px 80px rgba(0,0,0,0.12); position:relative; overflow:hidden; min-height:520px;
    }

    /* envelope */
    .envelope-wrap {height:100%; display:flex;align-items:center;justify-content:center; position:relative}
    .envelope {
      width:520px; height:360px; border-radius:18px; background:linear-gradient(180deg,var(--accent),#b32030);
      box-shadow:0 20px 50px rgba(0,0,0,0.25); position:relative; cursor:pointer; transform-origin:center;
    }
    .flap {position:absolute; left:0; top:0; width:100%; height:55%; background: linear-gradient(180deg,#ff6b95,#c6282e); clip-path: polygon(0 0,50% 100%,100% 0); transform-origin:top; }
    .body {
      position:absolute; left:6%; right:6%; bottom:8%; top:48%; background:linear-gradient(#fff4f8,#fff8fb); border-radius:10px;
      display:flex;align-items:center;justify-content:center;color:var(--text); font-size:20px; padding:18px; text-align:center;
      box-shadow: inset 0 -6px 18px rgba(0,0,0,0.06);
    }
    .open-hint {position:absolute; bottom:14px; left:50%; transform:translateX(-50%); color:#fff; font-size:14px; opacity:.95}

    /* overlay message (big card) */
    .overlay {
      position:fixed; inset:0; z-index:80; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,0.28);
      backdrop-filter: blur(4px);
    }
    .msg-card {
      width:92%; max-width:920px; background:var(--card); border-radius:20px; padding:32px; box-shadow:0 40px 120px rgba(0,0,0,0.28); position:relative;
      text-align:center;
    }
    .msg-title {font-size:44px; margin-bottom:10px}
    .msg-body {font-size:22px; line-height:1.45; color:var(--text); max-width:820px; margin:0 auto}
    .msg-sub {font-size:18px; margin-top:18px; opacity:0.9}

    .close-x {
      position:absolute; right:16px; top:16px; width:56px; height:56px; border-radius:50%; border:none;
      background:var(--accent); color:#fff; font-size:22px; cursor:pointer; box-shadow:0 12px 28px rgba(0,0,0,0.16);
    }

    /* right panel: instructions/thumb */
    .right {
      display:flex; flex-direction:column; gap:16px; align-items:flex-start;
    }
    .title {font-size:30px}
    .subtitle {opacity:0.85}

    /* songs screen */
    .songs-screen { position:fixed; inset:0; z-index:70; display:none; overflow:auto; background: linear-gradient(180deg,#fff7fb,#fff1f6); padding:28px; }
    .songs-inner {max-width:1100px; margin:18px auto; display:flex; flex-direction:column; gap:18px}
    .songs-header {display:flex; justify-content:space-between; align-items:center}
    .songs-title {font-size:28px}
    .playlist {display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:16px}
    .track {
      background:#fff; padding:14px; border-radius:12px; box-shadow:0 18px 40px rgba(0,0,0,0.06); cursor:pointer; display:flex;flex-direction:column; gap:8px;
    }
    .track:hover {transform:translateY(-6px); transition:transform .25s}

    .player-sticky {position:sticky; bottom:18px; background:rgba(255,255,255,0.98); padding:12px; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,0.08); display:flex; gap:12px; align-items:center}

    /* floating cats & hearts */
    .floating {position:fixed; pointer-events:none; z-index:60}
    .cat {width:80px; border-radius:12px; box-shadow:0 18px 40px rgba(0,0,0,0.12)}
    .heart {font-size:36px}

    /* bubble */
    .bubble {position:fixed; z-index:90; background:linear-gradient(90deg,#fff,#ffeef8); padding:10px 14px; border-radius:14px; box-shadow:0 14px 36px rgba(0,0,0,0.12); font-size:16px}

    @media (max-width:980px){
      .layout{grid-template-columns:1fr; padding:18px}
      .envelope{width:88%; height:320px}
      .msg-title{font-size:34px}
      .msg-body{font-size:18px}
    }
  </style>
</head>
<body>

  <main class="stage">
    <div class="layout">

      <!-- cinematic left -->
      <section class="cinema" aria-label="Envelope stage">
        <div class="envelope-wrap">
          <div class="envelope center" id="envelope">
            <div class="flap" id="flap"></div>
            <div class="body">Tap to open ‚Äî a small note for Anmol üíå</div>
            <div class="open-hint">Tap to open</div>
          </div>
        </div>
      </section>

      <!-- right column -->
      <aside class="right">
        <div>
          <div class="title">For Anmol ‚Äî a little cinematic love</div>
          <div class="subtitle">Open the envelope, read the message, then tap ‚úï to go to songs & cute surprises. Perfect for screen-recording reels.</div>
        </div>
        <div style="display:flex;gap:12px">
          <button id="btnOpen" style="background:var(--accent);color:#fff;border:none;padding:10px 14px;border-radius:10px;cursor:pointer">Open</button>
          <button id="btnSkip" style="background:#fff;border:1px solid rgba(0,0,0,0.06);padding:10px 14px;border-radius:10px;cursor:pointer">Skip ‚Üí Songs</button>
        </div>
      </aside>

    </div>
  </main>

  <!-- Overlay message -->
  <div class="overlay center" id="overlay">
    <div class="msg-card" role="dialog" aria-modal="true" id="msgCard">
      <button class="close-x" id="closeX">‚úï</button>
      <div class="msg-title">My dearest Anmol ‚ù§Ô∏è</div>
      <div class="msg-body">
        <p style="font-size:28px;margin-bottom:12px">Meri pyari Anmol,</p>
        <p>Jab se tum mere zindagi mein aayi ho, har lamha ek nayi roshni se bhar gaya hai. Tum meri har subah ki khushi aur raaton ka sukoon ho. Main har pal tumhari muskurahat dekhna chahta hoon ‚Äî tum he meri har ek dua ka jawab ho.</p>
        <div class="msg-sub">Tap ‚úï to explore romantic songs and cute cat surprises ‚Äî record as you go for a reel. üé•</div>
      </div>
    </div>
  </div>

  <!-- Songs screen -->
  <section class="songs-screen" id="songsScreen" aria-hidden="true">
    <div class="songs-inner">
      <div class="songs-header">
        <div class="songs-title">üéß Curated Romantic Playlist</div>
        <div style="font-size:13px;color:rgba(0,0,0,0.65)">Tap any tile to play. If a track doesn't load replace URL with your hosted mp3.</div>
      </div>

      <div class="playlist" id="playlist"></div>

      <div class="player-sticky" id="playerSticky" style="display:none">
        <audio id="player" controls preload="none" style="width:100%"></audio>
      </div>
    </div>
  </section>

  <script>
  // Wait for GSAP loaded (defer scripts included); small guard
  function ready(fn){
    if(document.readyState!='loading') fn();
    else document.addEventListener('DOMContentLoaded', fn);
  }

  ready(()=> {
    const flap = document.getElementById('flap');
    const envelope = document.getElementById('envelope');
    const overlay = document.getElementById('overlay');
    const btnOpen = document.getElementById('btnOpen');
    const btnSkip = document.getElementById('btnSkip');
    const closeX = document.getElementById('closeX');
    const songsScreen = document.getElementById('songsScreen');
    const playlist = document.getElementById('playlist');
    const player = document.getElementById('player');
    const playerSticky = document.getElementById('playerSticky');

    // cinematic entrance: subtle pop
    gsap.from('.envelope', {scale:0.96, y:20, duration:0.9, ease:"power3.out"});

    // Envelope click -> open with 3D flap animation and "cinematic zoom"
    function openEnvelope(){
      // 3d flip flap
      gsap.to(flap, {rotationX:180, transformOrigin:'top center', duration:0.8, ease:'back.out(1.2)'});
      // slight envelope lift & scale to feel cinematic
      gsap.to(envelope, {scale:0.92, duration:0.6, ease:'power2.out'});
      // after open, show message overlay with zoom-in
      setTimeout(()=> {
        overlay.style.display='flex';
        gsap.from('#msgCard', {scale:0.96, y:18, opacity:0, duration:0.6, ease:'power3.out'});
      }, 600);
    }

    envelope.addEventListener('click', openEnvelope);
    btnOpen.addEventListener('click', openEnvelope);

    // Close message -> transition to songs screen
    closeX.addEventListener('click', ()=>{
      // animate overlay out
      gsap.to('#msgCard', {y:-20, opacity:0, scale:0.98, duration:0.45, ease:'power2.in', onComplete: ()=> {
        overlay.style.display='none';
        // hide envelope too
        gsap.to('.envelope', {opacity:0, y:-20, duration:0.6});
        // show songs screen (slide up)
        songsScreen.style.display='block';
        gsap.fromTo(songsScreen, {y:40, opacity:0}, {y:0, opacity:1, duration:0.6, ease:'power3.out'});
        spawnFloating(); enableScrollBubbles(); // visual goodies
      }});
    });

    // Skip to songs directly
    btnSkip.addEventListener('click', ()=>{
      overlay.style.display='none';
      gsap.to('.envelope', {opacity:0, y:-20, duration:0.4});
      songsScreen.style.display='block';
      gsap.fromTo(songsScreen, {y:40, opacity:0}, {y:0, opacity:1, duration:0.6, ease:'power3.out'});
      spawnFloating(); enableScrollBubbles();
    });

    /* ---------- Playlist (playable) ---------- */
    // NOTE: replace these sample mp3 urls with your own hosted mp3s if you face playback issues
    const tracks = [
      { name: 'Tum Hi Ho ‚Äî Sample', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3' },
      { name: 'Raabta ‚Äî Sample', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3' },
      { name: 'Tera Ban Jaunga ‚Äî Sample', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3' },
      { name: 'Janam Janam ‚Äî Sample', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3' },
      { name: 'Shayad ‚Äî Sample', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3' }
    ];

    tracks.forEach((t, i) => {
      const el = document.createElement('div');
      el.className = 'track';
      el.innerHTML = `<div class="name">${t.name}</div><div class="meta">Tap to play</div>`;
      el.addEventListener('click', () => {
        player.src = t.src;
        player.play().catch(err=> {
          // If browser blocked play, try to resume after user gesture
          console.warn('playback prevented', err);
        });
        playerSticky.style.display = 'flex';
        // small highlight
        gsap.fromTo(el, {scale:0.995}, {scale:1.02, duration:0.18, yoyo:true, repeat:1});
      });
      playlist.appendChild(el);
    });

    /* ---------- Floating cats & hearts ---------- */
    const catGifs = [
      'https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif',
      'https://media.giphy.com/media/mlvseq9yvZhba/giphy.gif',
      'https://media.giphy.com/media/13borq7Zo2kulO/giphy.gif',
      'https://media.giphy.com/media/OmK8lulOMQ9XO/giphy.gif',
      'https://media.giphy.com/media/3oriO7A7bt1wsEP4cw/giphy.gif'
    ];

    function spawnFloating(){
      for(let i=0;i<10;i++){
        // cat
        const cat = document.createElement('img');
        cat.src = catGifs[i % catGifs.length];
        cat.className = 'floating cat';
        const startLeft = 6 + Math.random()*84;
        cat.style.left = startLeft + '%';
        cat.style.bottom = (-40 - Math.random()*30) + 'px';
        cat.style.opacity = '0';
        document.body.appendChild(cat);
        // animate upward & fade in/out
        gsap.to(cat, {delay: 0.2 + Math.random()*1.2, opacity:1, y:- (window.innerHeight + 200), duration: 9 + Math.random()*6, ease:'power1.out', onComplete: ()=> cat.remove()});
      }
      // hearts
      const hearts = ['‚ù§Ô∏è','üíñ','üíò','üíû','üíù'];
      for(let i=0;i<14;i++){
        const h = document.createElement('div');
        h.className = 'floating heart';
        h.innerText = hearts[i%hearts.length];
        const left = 6 + Math.random()*84;
        h.style.left = left + '%';
        h.style.bottom = -20 + 'px';
        h.style.opacity = 0;
        document.body.appendChild(h);
        gsap.to(h, {delay:0.2 + Math.random()*1.8, opacity:1, y: - (window.innerHeight + 160), duration:7 + Math.random()*6, ease:'power1.out', onComplete: ()=> h.remove()});
      }
    }

    /* ---------- Scroll-triggered bubbles ---------- */
    const popMsgs = [
      "Tum meri duniya ho üíñ",
      "Har pal tumhare saath ka ehsaas üå∏",
      "Meri duaon ka sabse khoobsurat jawab üòç",
      "Tum meri khushi ka raaz ‚ú®",
      "Bas tum aur main ‚Äî hamesha üíû"
    ];
    let lastTime=0;
    function enableScrollBubbles(){
      window.addEventListener('scroll', ()=> {
        const now = Date.now();
        if(now - lastTime < 900) return;
        lastTime = now;
        spawnBubble();
      });
    }
    function spawnBubble(){
      const b = document.createElement('div');
      b.className = 'bubble';
      b.innerText = popMsgs[Math.floor(Math.random()*popMsgs.length)];
      const left = 20 + Math.random()*60;
      const top = window.innerHeight - (30 + Math.random()*120);
      b.style.left = left + 'px';
      b.style.top = top + 'px';
      document.body.appendChild(b);
      gsap.fromTo(b, {opacity:0, y:10}, {opacity:1, y:0, duration:0.35});
      gsap.to(b, {opacity:0, y:-20, delay:1.6, duration:0.6, onComplete: ()=> b.remove()});
    }

    /* ---------- Accessibility / tips ---------- */
    // Show a brief tip for mobile users to record in full screen
    if(window.innerWidth < 900){
      setTimeout(()=> {
        const tip = document.createElement('div');
        tip.className = 'bubble';
        tip.innerText = 'Tip: Open full-screen & start screen-recording for best reel results üì±';
        tip.style.left = '12px';
        tip.style.top = (window.innerHeight - 90) + 'px';
        document.body.appendChild(tip);
        gsap.to(tip, {opacity:1, duration:0.3});
        setTimeout(()=> gsap.to(tip, {opacity:0, scale:0.96, duration:0.4, onComplete: ()=> tip.remove()}), 4200);
      }, 700);
    }

    /* ---------- Helpful note for GitHub deployment ---------- */
    // If a track doesn't play on GitHub Pages due to remote host restrictions:
    // 1) Upload mp3s into the repo (e.g. /assets/audio/your-song.mp3) and use relative URLs: '/assets/audio/your-song.mp3'
    // 2) Or host them on a reliable CDN with CORS enabled and replace the track.src values above.
  });
  </script>
</body>
</html>
